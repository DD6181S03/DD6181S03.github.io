<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://d6s3.ac.cn</id>
    <title>D6S3&apos;s Blog</title>
    <updated>2020-06-13T13:45:38.925Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://d6s3.ac.cn"/>
    <link rel="self" href="https://d6s3.ac.cn/atom.xml"/>
    <subtitle>年更博客又来刷存在感了</subtitle>
    <logo>https://d6s3.ac.cn/images/avatar.png</logo>
    <icon>https://d6s3.ac.cn/favicon.ico</icon>
    <rights>All rights reserved 2020, D6S3&apos;s Blog</rights>
    <entry>
        <title type="html"><![CDATA[京造K2/Keychron K2键盘在Linux系统下的Fn功能键使用]]></title>
        <id>https://d6s3.ac.cn/post/keychron-k2-on-linux/</id>
        <link href="https://d6s3.ac.cn/post/keychron-k2-on-linux/">
        </link>
        <updated>2020-06-13T05:58:07.000Z</updated>
        <summary type="html"><![CDATA[<p>前段时间买了一个京造K2机械键盘，各方面都比较满意，但有一个比较坑的点：在Windows键位下，功能键是直接发送的相应功能的键位而非F1、F2之类的键位，按照说明书上的指示进行切换也没有用。因此我被迫上网寻找解决方案。<br>
注意：本篇文章不打算讨论手感等玄学话题。</p>
]]></summary>
        <content type="html"><![CDATA[<p>前段时间买了一个京造K2机械键盘，各方面都比较满意，但有一个比较坑的点：在Windows键位下，功能键是直接发送的相应功能的键位而非F1、F2之类的键位，按照说明书上的指示进行切换也没有用。因此我被迫上网寻找解决方案。<br>
注意：本篇文章不打算讨论手感等玄学话题。</p>
<!-- more -->
<h2 id="关于这个键盘的简单介绍">关于这个键盘的简单介绍</h2>
<p>这个键盘在国内售卖用的是“京东京造”这个品牌，但实际上就是Keychron K2这款键盘，除了包装、标识等方面，和Keychron K2无异，经过我亲自大胆测试，固件也可以通刷，我已更新到官方的1.6.2固件，如果你也想自己更新固件，记得下载时选择US Layout, White Backlight（美式键盘布局白色背光）的固件版本，刷入错误的固件可能会让键盘变砖（应该会吧，这我真没试过）。</p>
<h2 id="为什么我尝试更新固件">为什么我尝试更新固件</h2>
<p>原因很简单，我在Reddit上看到有人说更新固件后我文章开头处提到的问题得到了解决，我就尝试更新了，但事实上问题并没有得到解决。</p>
<h2 id="所以应该怎么办">所以应该怎么办</h2>
<p>从网上搜索到了一个非常好的解决方案，将/sys/module/hid_apple/parameters/fnmode的值改为0即可，关于这个设置的意义，<a href="https://help.ubuntu.com/community/AppleKeyboard#Change_Function_Key_behavior">这篇Ubuntu的文档</a>已经讲的很清楚了，虽然文档里说的和实际情况并不是很匹配，但把这个值改成0确实管用，具体怎么起作用的，我暂且不能给出解答。</p>
<h3 id="让它自动修改">让它自动修改</h3>
<p>这个驱动模块的参数每次重启就会变回默认的1，我也不知道更好的方法在启动时修改它，只好写了一个systemd的service来每次开机时修改这个参数的值，我这个配置文件的路径为/etc/systemd/system/keychron.service。内容如下：</p>
<pre><code>[Unit]
Description=Make Keychron K2 work

[Service]
Type=oneshot
ExecStart=/bin/sh -c &quot;echo 0 &gt; /sys/module/hid_apple/parameters/fnmode&quot;

[Install]
WantedBy=multi-user.target
</code></pre>
<p>写好后<code>sudo systemctl enable keychron.service</code>就行啦。</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[探究国标中的纸张尺寸问题]]></title>
        <id>https://d6s3.ac.cn/post/paper-size/</id>
        <link href="https://d6s3.ac.cn/post/paper-size/">
        </link>
        <updated>2020-02-21T08:39:44.000Z</updated>
        <summary type="html"><![CDATA[<p>前些天的时候，我需要将一些图片生成为PDF格式的电子书，为了让生成的PDF大小和实体书的大小相同，我查找了一些资料。</p>
]]></summary>
        <content type="html"><![CDATA[<p>前些天的时候，我需要将一些图片生成为PDF格式的电子书，为了让生成的PDF大小和实体书的大小相同，我查找了一些资料。</p>
<!-- more -->
<h2 id="问题一个个如同递归般出现">问题一个个如同递归般出现</h2>
<h3 id="题外话小时候的疑惑">题外话：小时候的疑惑</h3>
<p>我小时候（大约在小学、初中时期）常用的纸张大小有A4和B5，打印正式的文件，大家都用A4纸，但那些看起来和B5纸差不多大的纸有好多种，让我难以分辨。我也也用过A3的纸，很大，4开的纸也很大，但他们又不一样大，还有，报纸用的纸又是多大？对于小时候的我，这些都难以解释，让我认为有很多套衡量纸大小的标准（其实确实是这样）。</p>
<h3 id="书本上的标注">书本上的标注</h3>
<p>我最先查找的是书的版权页上标注的开本大小，这本书写的是787 * 1092mm 1/16，我想，这或许就是“16开”？可是有的书上前面的数字不一样，后面的1/16却一样，还有的直接写了这本书的实际大小。<br>
我大概可以猜出书本上的标注可能是一个特定大小的原纸的1/16的意思，但我认为16开应该是一个统一的标准，所以真正的16开到底多大呢，我又去网上查找。</p>
<h3 id="网络上的混乱知识">网络上的混乱知识</h3>
<p>我去网上查找16开纸的大小，又开始迷惑了，还有“大度”、“正度”之分。到底多大，算是说不清楚了。<br>
中文互联网的信息质量实在是有些差，天下文章一大抄，不少写博客的、回答问题的，内容都是从别的地方复制来的，复制一个就算了还复制好几个，内容驴头不对马嘴，格式也是乱的。一点也没能解答我的疑惑，反而让我更疑惑了。<br>
后来我找到了维基百科的相关页面，其中提到了关于纸张尺寸的国际标准ISO 216:2007和中国国家标准GB/T 148-1997《印刷、书写和绘图纸幅面尺寸》，我就尝试去找相关的标准文件。</p>
<h4 id="小插曲">小插曲</h4>
<p>因为我不想因为查找到底应该多大而耽误生成PDF，我直接用原图片的大小生成了PDF，效果还不错。</p>
<h3 id="查找iso和国标的文件">查找ISO和国标的文件</h3>
<p>我先查的是国标，去国标委的国家标准全文公开网站查找，发现此标准因为引用了ISO的标准，不能公开全文。我先把希望寄托在我校的图书馆上，果然，我校图书馆没有买国标全文数据库的权限。使用了其他学校图书馆的相关资源，我获取到了这份文件的全文。这份文件当中，还提到了另一个国标GB/T 788-1999《图书杂志开本及其幅面尺寸》，我一并下载下来了。<br>
ISO更难找了，国内好像没有学校购买了相关的数据库，我也不打算花钱购买相关文件，一番查找之后搞到了一份德语版的，不过没啥用，看不懂，谷歌翻译成中文、英语，还是看不懂（不想看），有国标暂且就够了。</p>
<h2 id="国标都说了啥">国标都说了啥</h2>
<h3 id="gbt-148-1997">GB/T 148-1997</h3>
<p><code>本标准规定了某些类别的书写纸、静电复印纸及印刷品切边后的尺寸。本标准适用于行政、商业及技术用纸切边后的尺寸，如表格、目录表等。</code><br>
每一种幅面尺寸都由一个字母和一个数字来表示，字母表示尺寸的系列，这个标准中把纸张分为了A、B、D三个系列，A和B系列等同采用ISO 216中的标准，另外增加了中国特有的D系列。数字表示以0为标准裁开的份数（对于边长而言的裁剪，不是面积）。每一号尺寸都可以对半分成两份（等分线平行于较短边），每一种尺寸的长边长：短边长应该为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msqrt><mn>2</mn></msqrt><mo>:</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\sqrt{2}:1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.13278em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span></span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,
-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,
-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,
35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,
-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467
s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422
s-65,47,-65,47z M834 80H400000v40H845z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>。<br>
A和B系列都是严格对半分割的，但D系列不是。D系列每一尺寸的长边比更大一级尺寸的短边短4mm，也就是相当于对半分割之后再在长边裁去4mm。<br>
以下是此国标规定的尺寸表格。单位为mm。</p>
<table>
<thead>
<tr>
<th>组号\系列</th>
<th>A</th>
<th>B</th>
<th>D</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>841 * 1189</td>
<td>1000 * 1414</td>
<td>764 * 1064</td>
</tr>
<tr>
<td>1</td>
<td>594 * 841</td>
<td>707 * 1000</td>
<td>532 * 760</td>
</tr>
<tr>
<td>2</td>
<td>420 * 594</td>
<td>500 * 707</td>
<td>380 * 528</td>
</tr>
<tr>
<td>3</td>
<td>297 * 420</td>
<td>353 * 500</td>
<td>264 * 376</td>
</tr>
<tr>
<td>4</td>
<td>210 * 297</td>
<td>350 * 353</td>
<td>188 * 260</td>
</tr>
<tr>
<td>5</td>
<td>148 * 210</td>
<td>176 * 250</td>
<td>130 * 184</td>
</tr>
<tr>
<td>6</td>
<td>105 * 148</td>
<td>135 * 176</td>
<td>92 * 126</td>
</tr>
</tbody>
</table>
<h3 id="gbt-788-1999">GB/T 788-1999</h3>
<p><code>本标准规定了图书和杂志的开本及其幅面尺寸。本标准适用于一般图书（含教科书）和杂志，不适用于需要采用特殊开本的图书和杂志。</code><br>
这个国标主要在GB/T 788-1987的基础上删除了非标准开本部分修订而成。他引用了ISO 6716:1983，但是这个ISO已经被废除了，而且貌似没有下一个版本？<br>
这个标准中也采用了和上文类似风格的尺寸代号，但仅有A、B两种。数字表示将全张纸对折长边裁切的次数，此处仍使用了“x开”这一说法。<br>
以下是此国标规定的尺寸表格。未裁切单张纸尺寸后面的M，表示纸张的丝绺方向（纸张中纤维的方向）与该尺寸的边平行。单位为mm。</p>
<table>
  <tr>
    <th rowspan="2">系列</th>
    <th rowspan="2">未裁切单张纸尺寸</th>
    <th colspan="2">已裁切成开本尺寸</th>
  </tr>
  <tr>
    <td>代号</td>
    <td>尺寸<br></td>
  </tr>
  <tr>
    <td>A</td>
    <td>890 * 1240M<br>890M * 1240<br>890 * 1240M<br>900 * 1280M<br>900M * 1280<br>900 * 1280M</td>
    <td>A4<br>A5<br>A6<br>A4<br>A5<br>A6<br></td>
    <td>210 *297<br>148 * 210<br>105 * 144<br>210 * 297<br>148 * 210<br>105 *144</td>
  </tr>
  <tr>
    <td>B</td>
    <td>1000M * 1400<br>1000 * 1400M<br>1000M * 1400<br></td>
    <td>B5<br>B6<br>B7<br></td>
    <td>169 * 239<br>119 * 165<br>82 * 115<br></td>
  </tr>
</table>
<h3 id="国标起草者怎么说">国标起草者怎么说</h3>
<p>以下是国标起草者张振威在一篇期刊文章里提到的的GB/T 788 1999版相对于1987版的改动：</p>
<ul>
<li>取消了787 * 1092mm的小开本。</li>
<li>将A系列未裁切原纸880 * 1230mm规格修订为890 * 1240mm。</li>
<li>取消“开数”的称谓。采用同一系列的原纸情况下，原纸可能有多种尺寸，但裁出来的开本尺寸应该相同，标为a mm * b mm 1/c这样时，a,b不同会使人误认为开本的尺寸不同，所以应采用通用称谓。</li>
</ul>
<h2 id="所以网上说的那些都是啥">所以网上说的那些都是啥</h2>
<p>我怎么知道！我看完这些之后除了知道国家标准之外没有其他作用。网上有人说的“正16开”即185 * 260mm依旧是非常流行的尺寸，尽管我没有在国标上发现它，它也许是裁切过之后的尺寸吧。</p>
<h3 id="关于裁切">关于裁切</h3>
<p>原纸是要经过裁切来去除毛边的，出版物也是会经过裁切的，上面写的是未裁切的尺寸，裁完了我也不知道多大。不过有比较常见的几个大小（仅仅是常见而已，并没有找到靠谱来源）：</p>
<ul>
<li>210 * 285mm</li>
<li>185 * 260mm</li>
<li>140 * 210mm</li>
<li>130 * 185mm</li>
</ul>
<h3 id="写在最后">写在最后</h3>
<p>现在有些出版物上直接写尺寸大小（挺好的我喜欢），有些还在写原纸+开数，反正没见过写A几B几的。根据原纸大小和开数推出来的，只是未裁切的大小，至于怎么个裁切法，裁完了到底多大，我暂时没找到可信来源的数据。如果我有机会接触到更多相关资料或者向业内人士提问，我会更新这篇文章的。</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[济南公交实时位置查询开发记]]></title>
        <id>https://d6s3.ac.cn/post/f369/</id>
        <link href="https://d6s3.ac.cn/post/f369/">
        </link>
        <updated>2020-01-26T09:05:26.000Z</updated>
        <summary type="html"><![CDATA[<p>做第三方的济南公交实时位置查询也有很久了，分享一下这个过程。<br>
写这个文章的前半段的时候是2019年暑假，等我现在再接着写的时候，已经想不起来当时的思路了。</p>
]]></summary>
        <content type="html"><![CDATA[<p>做第三方的济南公交实时位置查询也有很久了，分享一下这个过程。<br>
写这个文章的前半段的时候是2019年暑假，等我现在再接着写的时候，已经想不起来当时的思路了。</p>
<!-- more -->
<h2 id="项目的由来">项目的由来</h2>
<p>总想着讲点历史</p>
<p>济南公交在移动互联网方面，最早的时候是走在前面的，当时那个Android4.x的时代，济南公交就与微步合作完成了公交实时位置查询。<br>
后来一位ID叫“跳河自杀的螃蟹”的济南公交吧吧友抓包得到了接口，并用VB做了一个Windows版本的公交实时位置查询。说的难听一点，在电脑上查公交实时位置的需求似乎很少，但是在当时，想入门编程，VB还是很多人的选择，第一个练手程序用VB写自己感兴趣领域的工具，没有什么不妥。<br>
这个程序我当时下载了，但现在已经找不到了。直到“螃蟹”上了大学，他又做了网页版的这个工具，起名叫智慧公交，并且分享给大家使用。我当时大概还在上初中吧。</p>
<p>突然有这么一天，济南公交就改接口了，其实就是验证了请求头里的version字段。当时螃蟹有事情来不及改，我就用Nginx反代了济南公交的后端，然而并没有什么用，谁会去看返回的一大坨json结果呢。当然没过几天，螃蟹就改好了。</p>
<p>又过了很长一段时间，智慧公交又暂停服务了，好像是螃蟹要加新功能。当时我上高二，稍微会一点Python，又刚刚给学校里写了运动会出入管理工具，觉得写这种实用工具很有意思，就决定自己要重复造轮子，把这个网页版查车工具给写出来。我写了有一个多星期吧，每天下午课外活动的时间去写，把它写到能用的程度了，不过真的只是能用，不好用，更不好看。</p>
<h2 id="第一个版本完成之后">第一个版本完成之后</h2>
<p>后来在19年过年期间，我用Bootstrap-Flask给网站做了稍微好看一点的前端。<br>
19年的暑假，我打算给这个网站加入路线查询的功能，但没有实现。<br>
19年下半年，由于369出行新版本的接口变动，我不在济南上学，太懒不想改程序，就把这个网站关掉了，直到放寒假回到济南，我自己要用，才又研究了一下新的接口，实现了之前的功能，还加了新功能。</p>
<h2 id="展望">展望</h2>
<p>现在这个版本算是一个阶段性的成果，虽然还是有点丑。<br>
之后我肯定还会想添加新的功能，但我意识到我现在做这个网站用的解决方案并不够好，如果只是网页，用JavaScript让浏览器直接发请求最好。还有人要求我做APP，我也动摇了（可是我最初做这个网站就是为了不安装APP），可能是我想用Flutter写点东西的原因吧。这些都是展望而已了，挖的坑太多，手头上还有其他的事情要做。开学之前，我也许会把当前的版本放到Github上开源吧，还有可能会打包成Docker image，仅仅是也许、可能而已……</p>
<h3 id="2019322更新">2019.3.22更新</h3>
<p>昨天已经把当前版本放在Github上开源了，并且打包成了Docker镜像，欢迎体验。<br>
<a href="https://github.com/DD6181S03/tpw">https://github.com/DD6181S03/tpw</a><br>
<a href="https://hub.docker.com/r/dd6181s03/tpw">https://hub.docker.com/r/dd6181s03/tpw</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[迁移到Gridea]]></title>
        <id>https://d6s3.ac.cn/post/move-to-gridea/</id>
        <link href="https://d6s3.ac.cn/post/move-to-gridea/">
        </link>
        <updated>2020-01-20T03:30:00.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p>居然还有Gridea这么好用的博客写作软件？    ——我·自己说的</p>
</blockquote>
<p>从上次把博客建好之后，我只写了第一篇文章，鸽子本性暴露无遗。（其实还写了一篇，不过没写完）</p>
<p>前段时间我在V2EX上看到Gridea的作者发的帖子，感觉有点意思，放假回来后整了些乱七八糟的，也有写博客的素材了，不如就再折腾一下吧。</p>
<p>Gridea挺方便的，没了。</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[这次的第一篇文章]]></title>
        <id>https://d6s3.ac.cn/post/my-first-post/</id>
        <link href="https://d6s3.ac.cn/post/my-first-post/">
        </link>
        <updated>2018-07-27T00:05:40.000Z</updated>
        <summary type="html"><![CDATA[<p>时隔不知道多长时间之后，我又回来了。</p>
]]></summary>
        <content type="html"><![CDATA[<p>时隔不知道多长时间之后，我又回来了。</p>
<!--more-->
<h2 id="为什么要写博客">为什么要写博客</h2>
<p>一开始喜欢折腾，觉得搭建一个自己的博客非常有意思，就做了。后来发现这还能让我记得没事写点文章。</p>
<h2 id="怎么想到了github-pages">怎么想到了Github Pages</h2>
<p>之前的时候，从虚拟主机到VPS，从WordPress到Ghost,Hexo，博客的部署方式和程序换了好多种，文章也写了一些，但是，大多都虎头蛇尾，把博客部署了，之后再写个几篇，等到最后主机该续费了，又不想续费，需要迁移的时候，在新的主机上，我就懒得再搞一个一摸一样的环境了。Github正好也推荐大家把网站放在上面，现在又有了Hugo这种很好的静态网站生成器，比Hexo更易于折腾，为什么不尝试一下呢？<br>
这里说起来还要提一下一个播客节目叫做&quot;内核恐慌(kernel panic)&quot;，在这上面我听到主持人提到了Hugo这个东西。</p>
<h3 id="为什么之前不用">为什么之前不用</h3>
<p>因为，之前莫名其妙的不想学Git，不想写Markdown，现在我非常乐意去用它们，甚至还有点后悔之前为什么没学。</p>
<h2 id="想写点什么">想写点什么</h2>
<p>之前那几个博客有点写日记用来吐槽的意思，当时也想写点技术内容，可惜一没技术二没文笔，啥也写不出来。现在看别人的文章多了，也觉得写技术类文章没那么难，把自己解决问题的方法写明白就行了。</p>
<h2 id="结束">结束</h2>
<p>就这样吧，大不了以后再改。</p>
]]></content>
    </entry>
</feed>